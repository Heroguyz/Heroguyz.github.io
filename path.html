










































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































<!DOCTYPE html>
<html>
<head>
<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta charset=utf-8 />
<link rel="stylesheet" type="text/css" href=" https://cdn.jsdelivr.net/npm/pretty-checkbox@3.0/dist/pretty-checkbox.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
 <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
 <script src="https://ajax.aspnetcdn.com/ajax/jquery.validate/1.16.0/jquery.validate.js"></script>
 <script src="https://ajax.aspnetcdn.com/ajax/jquery.validate/1.17.0/additional-methods.js"></script>
 <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<title>eDataMaps</title>


<style type="text/css">
  
@import url(https://fonts.googleapis.com/css?family=Muli);
@import url(https://fonts.googleapis.com/css?family=Gentium+Basic);
@import url(https://fonts.googleapis.com/css?family=Roboto:400,500,300,700);

body {
  margin: 15px;
  padding-top: 0px;
  background: white;
  font-family: 'Muli', Serif;
 

}


table {
  
   background: #fff;
   width: ;
   border-radius: 10px;

 
}
td  {padding:5px; border: 1px solid #ddd;}
th {padding:5px; border: 1px solid #ddd;}
  
td[contenteditable=true] { outline: 2px solid #0af; }

td {
  padding: 6px 15px;
}
th {
  background: darkgrey;
  color: #fff;
  text-align: left;
}
tr:first-child th:first-child {
  border-top-left-radius: 6px;
}
tr:first-child th:last-child {
  border-top-right-radius: 6px;
}
td {
  border-right: 1px solid #c6c9cc;
  border-bottom: 1px solid #c6c9cc;
}
td:first-child {
  border-left: 1px solid #c6c9cc;
}
tr:nth-child(even) td {
  background: #eaeaed;
}
tr:last-child td:first-child {
  border-bottom-left-radius: 6px;
}
tr:last-child td:last-child {
  border-bottom-right-radius: 6px;
}

tr:hover {background-color:darkgrey;}



  .required:after{
  content:"required";
}

#deleteStudent .btn,#cancelEdit .btn{
  
  margin-left:10px;
}

#editStudent , #createStudent ,#deleteStudent ,#cancelEdit {
  margin-left:10px;
  float:left;
}

#editStudent , #createStudent  {
  margin-left:0px !important;
}

.container{
  margin-top:50px;
}

tr {
    margin: 20px 0;
    padding 10px 0;
}
input {
    margin: 5px 0;
}
select {
    margin-left: 10px;
}



input[type=text], select {
    width: 85%;
    padding: 1px 0px;
    margin: 8px 0;
    display: inline-block;
    border: 1px solid #ccc;
    border-radius: 6px;
    box-sizing: border-box;
    text-transform:;
    
}

input[type=text]:focus {
    background-color: lightblue;
}

input[type=submit] {
    width: 40%;
    background-color: #4CAF50;
    color: white;
    padding: 4px 5px;
    margin: 5px 0px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

input[type=submit]:hover {
    background-color: red;
}

.y{
    width: 60%;
    background-color: #4CAF50;
    color: white;
    padding: 10px 1px;
    margin: 8px 0;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

.y:hover {
  background-color: red;
}


#loader {
  border: 16px solid #f3f3f3;
  border-radius: 50%;
  border-top: 16px solid orange;
  border-bottom: 16px solid grey;
  width: 70px;
  height: 70px;
  -webkit-animation: spin 2s linear infinite;
  animation: spin 2s linear infinite;
  visibility:hidden;
}
 
@-webkit-keyframes spin {
  0% { -webkit-transform: rotate(0deg); }
  100% { -webkit-transform: rotate(360deg); }
}
 
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}


a:link, a:visited {
    background-color: #f44336;
    color: white;
    padding: 10px 20px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    border-radius: 6px;
}


a:hover, a:active {
    background-color: red;
}


#bio {
  border: 1px solid #ccc;
  border-collapse: collapse;
  margin: 0;
  padding:0;
  width:;
  table-layout: fixed;
  background: #fff;
  border-radius: 9px;
}

#bio caption {
  font-size: 1.5em;
  margin: .5em 0 .75em;
}
#bio tr {
  background: #f8f8f8;
  border: 1px solid #ddd;
  padding: .35em;

}

#bio tr:hover {background-color: ;}

#bio th,
#bio td {
  padding: .625em;
  text-align: left;
}
#bio th {
  font-size: .85em;
  letter-spacing: .1em;
  text-transform: uppercase;
}


.error
{
color:red;
font-family: 'Muli', Serif;
}


input.error {
    border: 1px solid red;
}

.right{ float: right; background:red }




textarea {
  margin-top: 10px;
  margin-left: 50px;
  width: 450px;
  height: 65px;
  -moz-border-bottom-colors: none;
  -moz-border-left-colors: none;
  -moz-border-right-colors: none;
  -moz-border-top-colors: none;
  background: none repeat scroll 0 0 rgba(0, 0, 0, 0.07);
  border-color: -moz-use-text-color #FFFFFF #FFFFFF -moz-use-text-color;
  border-image: none;
  border-radius: 6px 6px 6px 6px;
  border-style: none solid solid none;
  border-width: medium 1px 1px medium;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.12) inset;
  color: #555555;
  font-size: 1em;
  line-height: 1.4em;
  padding: 5px 8px;
  transition: background-color 0.2s ease 0s;
}


textarea:focus {
    background: none repeat scroll 0 0 lightblue;
    outline-width: 0;
}


</style>


<script type="text/javascript">
  function trim(el) {
    el.value = el.value.
    replace(/(^\s*)|(\s*$)/gi, ""). // removes leading and trailing spaces
    replace(/[ ]{2,}/gi, " "). // replaces multiple spaces with one space 
    replace(/\n +/, "\n"); // Removes spaces after newlines
    return;
}  
</script>


<script type="text/javascript">
  var script_url = "https://script.google.com/macros/s/AKfycbxcwHHreqVnX21QCcEL_QCV0xOIn2-POB87gZKI0Mmi3GL3SR3C/exec";


  function ctrlq(e) {
  
  
  $("#re").html(e.result);
  $("#re").css("visibility","visible");
  loads();
  
  }
  
function loads() {

$("#re").css("visibility","hidden");
   
   document.getElementById("loader").style.visibility = "visible";
 var url = script_url+"?action=read";

$.getJSON(url, function (json) {

    // Set the variables from the results array
   
var br = document.createElement('br');
document.body.appendChild(br);



          // CREATE DYNAMIC TABLE.
          var table = document.createElement("table");
          table.id="id"; 
          var td = document.createElement("td");
          td.id="idx"; 


    

    var header = table.createTHead();
    var row = header.insertRow(0);     
    var cell1 = row.insertCell(0);
    var cell2 = row.insertCell(1);
    var cell3 = row.insertCell(2);
    var cell4 = row.insertCell(3);
    
   
   


  
    cell1.innerHTML = "<b>ID</b>";
    cell2.innerHTML = "<b>LAT</b>";
    cell3.innerHTML = "<b>LONG</b>";
    cell4.innerHTML = "<b>MAIN</b>";

    
    


        
        // ADD JSON DATA TO THE TABLE AS ROWS.
        for (var i = 0; i < json.records.length; i++) {

     var tr =document.createElement('tr');


        tr = table.insertRow(-1);
        var tabCell = tr.insertCell(-1);
        tabCell.innerHTML = json.records[i].ID;
        tabCell = tr.insertCell(-1);
        tabCell.innerHTML = json.records[i].LAT;
        tabCell = tr.insertCell(-1);
        tabCell.innerHTML = json.records[i].LONG;
        tabCell = tr.insertCell(-1);
        tabCell.innerHTML = json.records[i].MAIN;
        //tabCell = tr.insertCell(-1);




//Search Codes

$("#search").keyup(function() {
    var value = this.value;

    $("table").find("tr").each(function(index) {
        if (index === 0) return;
        var id = $(this).find("td").first().text();
        $(this).toggle(id.indexOf(value) !== -1);
    });
});




  
       }
      

        // FINALLY ADD THE NEWLY CREATED TABLE WITH JSON DATA TO A CONTAINER.
        var divContainer = document.getElementById("showData");
        divContainer.innerHTML = "";
        divContainer.appendChild(table);
    document.getElementById("loader").style.visibility = "hidden";
    $("#re").css("visibility","visible");
    });
  


  }

  $(function(){
    $('div[onload]').trigger('onload');
});

</script>





<script type="text/javascript">

$(document).ready(function () {  
    
    var poles = " <br/> <p> Here are the Attributes/ Properties of the Poles. </p> <br> <p  style='color:red; padding: 10px; '> <b> Kindly turn on your Caps Lock from your Keyboard. ALL inputs must be in UPPERCASE.  </b> <i class='material-icons' style='font-size:30px;color:#e6e600'>warning</i></p> <div class='form-group'> <div class='form-group'> <label for='labelName' id='labelName' class='col-sm-4 control-label'>Poles_Number:</label> <div class='col-sm-7'> <input type='text' id='polenumber' name='polenumber'class='form-control' autocomplete='on' placeholder='Your Label E.g. P1' required='true' maxlength='3' minlength='2' pattern='[P]{1}[0-9]{1,2}' title='Pls. use this format: P20 OR Turn on your Caps Lock' /> </div> </div> <div class='form-group'> <label for='labelName' id='labelName' class='col-sm-4 control-label'>Pole_Landmark:</label> <div class='col-sm-7'> <input type='text' id='polelandmark' name='polelandmark' class='form-control' placeholder='Your Label E.g. House 3 / Plot 100' ' required='true' /> </div> </div> <div class='form-group'>  <label for='labellandmark' id='labellandmark' class='col-sm-4 control-label'>MST_Number:</label> <div class='col-sm-7'> <input type='text'  id='polemstnumber' name='polemstnumber' class='form-control' placeholder='Your Label E.g. MSTP7' pattern='[M][S][T][P]{1}[0-9]{1,3}' minlength='4' maxlength='6' title='Pls. use this format: MSTP5 OR Turn on your Caps Lock' autocomplete='on'/> </div> </div> <div class='form-group'>  <label for='labellabel' id='labellabel' class='col-sm-4 control-label'>Closure_Number:</label> <div class='col-sm-7'> <input type='text' id='poleclosurenumber' name='poleclosurenumber' class='form-control' placeholder='Your Label E.g.CP4 ' autocomplete='on' pattern='[C][P]{1}[0-9]{1,2}' minlength='3' maxlength='4'  title='Pls. use this format: CP40 OR Turn on your Caps Lock'/> </div> </div> <div class='form-group'>  <label for='labelMST' id='labelMST' class='col-sm-4 control-label'>MST_Cable Length:</label> <div class='col-sm-7'> <input type='text' id='polemstlength' pattern='[D][L][X]{1}/[0-9]{2,3}[M]' title='Pls use this format: DLX/500M OR Turn on your Caps Lock' name'polemstlength' class='form-control' placeholder='Your Label E.g. DLX/500M'/ > </div> </div> <div class='form-group'> <label for='labelCable' id='labelMST' class='col-sm-4 control-label'>BB_Type_Length:</label> <div class='col-sm-7'> <input type='text' id='polebbcablelength' name='polebbcablelength' class='form-control' placeholder='Your Label E.g. 900OM/24CORE' autocomplete='on' pattern='[0-9]{2,4}[M]/[0-9]{2}[C][O][R][E]' title='Pls use this format: 900OM/24CORE OR Turn on your Caps Lock' />  </div>  </div> <div class='col-sm-offset-5 col-sm-30'>  <button type='submit' id='createStudent' class='btn btn btn-primary'  onClick='insert_value()' value='Create Student'><span class='glyphicon glyphicon-floppy-disk'></span> Create </button> <span> &nbsp; </span> <button type='reset' value='Reset' class='btn btn btn-success'><span class='glyphicon glyphicon-refresh'></span> Reset </button> </div> ";

    var HandHoles = "<br> <p> Here are the Attributes/ Properties of the Poles. </p> <br> <p  style='color:red; padding: 10px; '> <b> Kindly turn on your capslock from your Keyboard. ALL inputs must be in UPPERCASE  </b> <i class='material-icons' style='font-size:30px;color:#e6e600'>warning</i></p>  <div class='form-group'> <div class='form-group'> <label for='labelName' id='labelName' class='col-sm-4 control-label'>Access_HH_Number:</label> <div class='col-sm-7'> <input type='text' id='accesshhnumber' maxlength='6' minlength='4' pattern='[A][H][H]{3}[0-9]{1,3}' title='Pls. use this format: AHH2 OR Turn on your Caps Lock' required='true' autocomplete='on' name='accesshhnumber' class='form-control' autocomplete='on' placeholder='Your Name E.g. P1'/> </div> </div> <div class='form-group'> <label for='labelName' id='labelName' class='col-sm-4 control-label'>Handholes_Landmark:</label> <div class='col-sm-7'> <input type='text' id='hhlandmark' name='hhlandmark' class='form-control' placeholder='Your Label E.g. HOUSE 12/ BLOCK 5'/> </div> </div> <div class='form-group'>  <label for='labellandmark' id='labellandmark' class='col-sm-4 control-label'>MST_HH_Number:</label> <div class='col-sm-7'> <input type='text' id='msthhnumber' name='msthhnumber' pattern='[M][S][T][H][H]{3}[0-9]{1,3}' title='Pls. Use this format: MSTHH5 OR Turn on your Caps Lock' class='form-control' placeholder='Your Name E.g. House 2'/> </div> </div> <div class='form-group'>  <label for='labellabel' id='labellabel' class='col-sm-4 control-label'>Closure_HH_Number:</label> <div class='col-sm-7'> <input type='text' pattern='[C][H][H]{3}[0-9]{1,3}' title='Pls. Use this format: CHH5 OR Turn on your Caps Lock' id='closurehhnumber' name='closurehhnumber' class='form-control' placeholder='Your Label E.g. BAN/P1/MHH1'/>  <span> Pls, three letters prefix for CityName,StreetName, and number of the Network Element E.g VIC/ODE/P1/M2.   </span> </div> </div> <div class='form-group'>  <label for='labelMST' id='labelMST' class='col-sm-4 control-label'>MST_Cable Length:</label> <div class='col-sm-7'> <input type='text' id='msthhcablelength' name='msthhcablelength' class='form-control' pattern='[D][L][X]{1}/[0-9]{2,3}[M]' title='Pls use this format: DLX/500M' placeholder='Your Label E.g. DLX/500M'/ required> </div> </div>   <div class='form-group'> <label for='labelCable' id='labelMST' class='col-sm-4 control-label'>BB_Cable Length:</label> <div class='col-sm-7'> <input type='text' id='bbhhcablelength' pattern='[0-9]{2,4}[M]/[0-9]{2}[C][O][R][E]' title='Pls use this format: 900OM/24CORE OR Turn on your Caps Lock' name='bbhhcablelength' class='form-control' placeholder='Your Label E.g.500M/24CORE'/> </div> </div> <div class='col-sm-offset-5 col-sm-30'>  <button type='submit' id='createStudent' class='btn btn btn-primary'  onClick='insert_value()' value='Create Student'><span class='glyphicon glyphicon-floppy-disk'></span> Create </button><span> &nbsp; </span> <button type='reset' value='Reset' class='btn btn btn-success'> <span class='glyphicon glyphicon-refresh'></span> Reset </button> </div>";

      var fdhCabinet = "<br> <p> Here are the Attributes/ Properties of the Poles. </p> <br> <p  style='color:red; padding: 10px; '> <b> Kindly turn on your capslock from your Keyboard. ALL inputs must be in UPPERCASE  </b> <i class='material-icons' style='font-size:30px;color:#e6e600'>warning</i></p>  <div class='form-group'> <div class='form-group'> <label for='labelName' id='labelName' class='col-sm-4 control-label'>FDH Cabinet_Number:</label> <div class='col-sm-7'> <input type='text' id='fdhcabnumber' name='fdhcabnumber' class='form-control' autocomplete='on' placeholder='Your Name E.g. P1'/> </div> </div> <div class='form-group'> <label for='labelName' id='labelName' class='col-sm-4 control-label'>Handholes_Landmark:</label> <div class='col-sm-7'> <input type='text' id='' class='form-control' placeholder='Your Name E.g. MHH2'/> </div> </div> <div class='form-group'>  <label for='labellandmark' id='labellandmark' class='col-sm-4 control-label'>MST_Number:</label> <div class='col-sm-7'> <input type='text' id='' name='' class='form-control' placeholder='Your Name E.g. House 2'/> </div> </div> <div class='form-group'>  <label for='labellabel' id='labellabel' class='col-sm-4 control-label'>Closure_Number:</label> <div class='col-sm-7'> <input type='text' id='' class='form-control' placeholder='Your Label E.g. BAN/P1/MHH1'/>  <span> Pls, three letters prefix for CityName,StreetName, and number of the Network Element E.g VIC/ODE/P1/M2.   </span> </div> </div> <div class='form-group'>  <label for='labelMST' id='labelMST' class='col-sm-4 control-label'>MST_Cable Length:</label> <div class='col-sm-7'> <input type='text' id='' class='form-control' placeholder='Your Label E.g. DLX/500M'/ required> </div> </div>   <div class='form-group'> <label for='labelCable' id='labelMST' class='col-sm-4 control-label'>BB_Cable Length:</label> <div class='col-sm-7'> <input type='text' id='' class='form-control' placeholder='Your Label E.g. DLX/500M'/> </div> </div> <br>  <button type='submit' id='createStudent' class='btn btn btn-primary'  onClick='insert_value()' value='Create Student'>Create</button><span> &nbsp; </span> <br> <hr> ";




    $('#id_contact_info').change(function () {


      if ($(this).val()==1){
        $('.choice_poles').hide();
        $('.choice_handholes').hide();
        $('.choice_cabinets').hide();

      }

        if ($(this).val() == 2) {
            console.log('poles');
            $('.choice_poles').show();
            $('.choice_poles').html(poles);
            $('.choice_handholes').hide();
            $('.choice_cabinets').hide();

           
         
        } 

         if ($(this).val() == 3) {
            console.log('Hand-Holes');
            $('.choice_handholes').html(HandHoles);
            $('.choice_handholes').show();
            $('.choice_poles').hide();
            $('.choice_cabinets').hide();

        }


        else if ($(this).val() == 4) {
            console.log('FDHCabinet');
            $('.choice_cabinets').show();
            $('.choice_cabinets').html(fdhCabinet);
            $('.choice_poles').hide();
            $('.choice_handholes').hide();

        }

    });

});




var placeSearch, autocomplete;
      var componentForm = {
        street_number: 'short_name',
        route: 'long_name'
        
      };

      function initAutocomplete() {
        // Create the autocomplete object, restricting the search to geographical
        // location types.
        autocomplete = new google.maps.places.Autocomplete(
            /** @type {!HTMLInputElement} */(document.getElementById('autocomplete')),
            {types: ['geocode']});

        // When the user selects an address from the dropdown, populate the address
        // fields in the form.
        autocomplete.addListener('place_changed', fillInAddress);
      }

      function fillInAddress() {
        // Get the place details from the autocomplete object.
        var place = autocomplete.getPlace();

        for (var component in componentForm) {
          document.getElementById('route').value = '';
          //document.getElementById('route2').value = '';
          document.getElementById('route').disabled = true;
        }

        // Get each component of the address from the place details
        // and fill the corresponding field on the form.
        for (var i = 0; i < place.address_components.length; i++) {
          var addressType = place.address_components[i].types[0];
          if (componentForm[addressType]) {
            var val = place.address_components[i][componentForm[addressType]];
            document.getElementById(addressType).value = val;
          }
        }
      }

      // Bias the autocomplete object to the user's geographical location,
      // as supplied by the browser's 'navigator.geolocation' object.
      function geolocate() {
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(function(position) {
            var geolocation = {
              lat: position.coords.latitude,
              lng: position.coords.longitude
            };
            var circle = new google.maps.Circle({
              center: geolocation,
              radius: position.coords.accuracy
            });
            autocomplete.setBounds(circle.getBounds());
          });
        }
      }



</script>


<script type="text/javascript">

//autocimple

$(function(){
var values = ["3.45554", "6.43455", "P3", "P20", "C4", "C45","M50","M2","DLX/30M","STD/200M","OFS/3000M", "OFS/200M" ,"AHH3", "AHH30"];

$("#long, #lat, #polenumber, #polemstnumber, #poleclosurenumber, #polemstlength, #search" ).autocomplete({
source: values
});

});
</script>

 
</head>
<body>


<div style="text-align:center; margin: 0px; padding:0em 0; font-size: 15px">  <iframe src="https://www.zeitverschiebung.net/clock-widget-iframe-v2?language=en&size=small&timezone=Africa%2FLagos" width="100%" height="90" frameborder="0" seamless></iframe> <label> eDataMaps Collection Tool</label> </div>



<div class="container" >
  <div class="row" >
    <ol class="breadcrumb" style="background-color: grey;  border-radius: 9px;"><img src="/globe9.gif" align="right" width=50 height=55 >
      <li><a href="#"><span class="glyphicon glyphicon-home"> </span>  Home </a></li>
      <li><a href=""><span class="glyphicon glyphicon-map-marker"> </span>  Maps </a></li>
      <li class="">Data Entry</li>

    </ol>
  </div>


  <h2>Cable Path Information.</h2>
  <div class="panel panel-success">
    <div class="panel-heading">Spatial Records.</div>
    <div class="panel-body">
    <p> Kindly click the READ Button to load the table data. </p>




    <div align="center">

    <div onload="loads()"></div>


        <div class="col-sm-offset-8 col-sm-4"> 
          <input type="text" class="form-control" placeholder="Search" id="search"  /> 

        </div> 

<div  id="loader"></div>

<p id="re"></p>


<br>


<div id="showData"></div>
<div id="showData2"></div>

</div>

<br>

<legend> Create Cable Path Records.</legend>

<input type="hidden" id="lat" name="lat" autocomplete="on"  class="form-control" placeholder="Your Latitude E.g. 6.54677" required="true" maxlength="7" value="" />



<div class="row">
    <div class="col-md-7">
     <form class="form-horizontal" role="form" id="form" onsubmit="return false"  onclick="id1.value = route.value + '/00'  + me.value " >
        <div class="form-group">
      
          <label id="labelLongitude" for="labelLongitude" class="col-sm-3 control-label"> Location </label>
          <div class="col-sm-8">
         
          <input type="text" id="autocomplete" name="autocomplete" onFocus="geolocate()"  class="form-control"  placeholder="Your Street-Name E.g. Adeola Oduku" required /> </div> </div>

           <div class="form-group">
          
          <label id="labelLongitude" for="labelLongitude" class="col-sm-3 control-label"> Street Name </label>
          <div class="col-sm-8">
          <input type="text" id="route" class="form-control" name="route"  readonly="true" onclick="+ store" /> </div> </div>
     
           <div class="form-group">
         
          <label id="labelLongitude" for="labelLongitude" class="col-sm-3 control-label"> ID </label>

          <div class='col-sm-8'>
          <input type="text"  id="id1" name="id1" class="form-control"  /> 
          <input type="hidden" id="txtAcrescimo" name="me" required />
 </div> </div>



           <div class="form-group">
         
          <label id="labelLongitude" for="labelLongitude" class="col-sm-3 control-label" > Code Generator </label>

          <div class='col-sm-4'>
         <input type="submit" value="Add +" class="bio add"  > 
         <input type="submit" value="Minus -" class="bio minus"  >  


         </div> </div>


          
          <legend> Line Strings </legend>
          <p> Kindly insert two coordinate points into this fields.</p>
          <br>
          <p> Note that the two points contains
<br><br>
          A. Present Point. (Point A). - Having one Point Coordinate "3.4553, 6.4433"
          <br>
          B. Destination Point (Point B). - Having one Point Coordinate "3.3345, 6.1223"

          <br><br>

          For Example: 
<br>
          &lt;LineString>  &lt;coordinates>  &quot; &nbsp;Values  &quot;    &lt;/coordinates> &lt;/LineString> 
          <br><br>


          &lt;LineString>  &lt;coordinates> <b> 3.4553, 6.4437   3.3345, 6.1223 </b>   &lt;/coordinates> &lt;/LineString> 





          </p>
<br>

          <div class="form-group">
          <label id="labelLongitude" for="labelLongitude" class="col-sm-4 control-label"> Points Coordinate:</label>
          <div class="col-sm-5">
            

            <textarea rows="2" name="long" id="long" cols="4" class="ui-autocomplete-input" autocomplete="off" role="textbox"  aria-autocomplete="list" aria-haspopup="true" onchange="return trim(this) " > <LineString><coordinates>        </coordinates></LineString> </textarea>

            

          </div>
        </div>



       <div class="form-group">

          
          <div class="col-sm-5">
            


          </div>
        </div>

        <div class="form-group">

         
          <div class="col-sm-5">
          <input type="hidden" id="latlng" name="txtFullName" autocomplete="on"  class="form-control"/>

           </div>
 
          </div>
        </div>

        <br><br>
  


<br>
        </div>
      </form>
   



    
      
    
    </div>
    <div class="panel-footer">eDataMaps &copy; 2018</div>
  </div>





    
  
<br>
  


  <div class="row">
    <nav class="navbar navbar-dark" style="background-color: grey;">
      <form class="navbar-form navbar-center" role="search">

       <div class="col-sm-15">
<button type="button" id="createStudent" class="btn btn btn-primary"  onclick="insert_value()" value="Create Student"><span class="glyphicon glyphicon-floppy-disk"> </span> Create </button> <span>&nbsp;</span>


<button type="button" id="" class="btn btn-success" onclick="read_value()" value="Read"><span class="glyphicon glyphicon-folder-open"></span>  Read  </button><span>&nbsp;</span>




</div>

        
    



       
      </form>
    </nav>
  </div>
  
  <br>


</div>





<script type="text/javascript">
  
  $(function() {

  var $td = $("#idx");
  

  $td.on({
    "keypress" : function(e) {
      if (e.which == 13) { // On Return key - "save" cell
        e.preventDefault();
        $(this).prop("contenteditable", false);
      }
    },
    "dblclick" : function() {
      $td.not(this).prop("contenteditable", false);
      $(this).prop("contenteditable", true);
    }
  });

});
</script>



<script type="text/javascript">

   
var script_url = "https://script.google.com/macros/s/AKfycbxcwHHreqVnX21QCcEL_QCV0xOIn2-POB87gZKI0Mmi3GL3SR3C/exec";
  
  // Make an AJAX call to Google Script
  function insert_value() {
    
  $("#re").css("visibility","hidden");
   document.getElementById("loader").style.visibility = "visible";
  $('#mySpinner').addClass('spinner');

  
  var autocomplete = $("#autocomplete").val();
  var route = $("#route").val();
  var id = $("#id1").val();
  var long = $("#long").val();
  var lat = $("#lat").val();
  
  //Poles Attributes
  var polenumber = $("#polenumber").val();
  var polelandmark = $("#polelandmark").val();
  var polemstnumber = $("#polemstnumber").val();
  var poleclosurenumber = $("#poleclosurenumber").val();
  var polemstlength = $("#polemstlength").val();
  var polebbcablelength = $("#polebbcablelength").val();
  
  //HH Attributes 
  var accesshhnumber = $("#accesshhnumber").val();
  var hhlandmark = $("#hhlandmark").val();
  var msthhnumber = $("#msthhnumber").val();
  var closurehhnumber = $("#closurehhnumber").val();
  var msthhcablelength = $("#msthhcablelength").val();
  var bbhhcablelength = $("#bbhhcablelength").val();
  
  
    var url = script_url+"?callback=ctrlq&autocomplete="+autocomplete+"&route="+route+"&id="+id+"&long="+long+"&lat="+lat+"&polenumber="+polenumber+"&polelandmark="+polelandmark+"&polemstnumber="+polemstnumber+"&poleclosurenumber="+poleclosurenumber+"&polemstlength="+polemstlength+"&polebbcablelength="+polebbcablelength+"&accesshhnumber="+accesshhnumber+"&hhlandmark="+hhlandmark+"&msthhnumber="+msthhnumber+"&closurehhnumber="+closurehhnumber+"&msthhcablelength="+msthhcablelength+"&bbhhcablelength="+bbhhcablelength+"&route="+route+"&autocomplete="+autocomplete+"&action=insert";


     //var url = script_url+"?callback=ctrlq&id="+id+"&long="+long+"&lat="+lat+"&polenumber="+polenumber+"&polelandmark="+polelandmark+"&polemstlength="+polemstlength+"&polebbcablelength="+polebbcablelength+"&accesshhnumber="+accesshhnumber+"&hhlandmark="+hhlandmark+"&msthhnumber="+msthhnumber+"&closurehhnumber="+closurehhnumber+"&msthhcablelength="+msthhcablelength+"&bbhhcablelength="+bbhhcablelength+"&action=insert";
  

    var request = jQuery.ajax({
      crossDomain: true,
      url: url ,
      method: "GET",
      dataType: "jsonp"
    });

  }


  
  
 
  
 function update_value(){
  $("#re").css("visibility","hidden");
   document.getElementById("loader").style.visibility = "visible";
  
  
var id= $("#id1").val();
var long= $("#long").val();
var lat= $("#lat").val();
//Poles..
 var polenumber = $("#polenumber").val();
  var polelandmark = $("#polelandmark").val();
  var polemstnumber = $("#polemstnumber").val();
  var poleclosurenumber = $("#poleclosurenumber").val();
  var polemstlength = $("#polemstlength").val();
  var polebbcablelength = $("#polebbcablelength").val();

  //HH..
  var accesshhnumber = $("#accesshhnumber").val();
  var hhlandmark = $("#hhlandmark").val();
  var msthhnumber = $("#msthhnumber").val();
  var closurehhnumber = $("#closurehhnumber").val();
  var msthhcablelength = $("#msthhcablelength").val();
  var bbhhcablelength = $("#bbhhcablelength").val();



//var down= $("#down").val();

  
  
    var url = script_url+"?callback=ctrlq&long="+long+"&id="+id+"&lat="+lat+"&polenumber="+polenumber+"&polelandmark="+polelandmark+"&polemstnumber="+polemstnumber+"&poleclosurenumber="+poleclosurenumber+"&polemstlength="+polemstlength+"&polebbcablelength="+polebbcablelength+"&accesshhnumber="+accesshhnumber+"&hhlandmark="+hhlandmark+"&msthhnumber="+msthhnumber+"&closurehhnumber="+closurehhnumber+"&msthhcablelength="+msthhcablelength+"&bbhhcablelength="+bbhhcablelength+"&action=update"
  
 
    var request = jQuery.ajax({
      crossDomain: true,
      url: url ,
      method: "GET",
      dataType: "jsonp"
    });
 
  
  }
 

  
  
  
  function delete_value(){
  $("#re").css("visibility","hidden");
     document.getElementById("loader").style.visibility = "visible";
  $('#mySpinner').addClass('spinner');


var autocomplete = $("#autocomplete").val();
  var route = $("#route").val();
  var id = $("#id").val();
  var long = $("#long").val();
  var lat = $("#lat").val();
  
  //Poles Attributes
  var polenumber = $("#polenumber").val();
  var polelandmark = $("#polelandmark").val();
  var polemstnumber = $("#polemstnumber").val();
  var poleclosurenumber = $("#poleclosurenumber").val();
  var polemstlength = $("#polemstlength").val();
  var polebbcablelength = $("#polebbcablelength").val();
  
  //HH Attributes 
  var accesshhnumber = $("#accesshhnumber").val();
  var hhlandmark = $("#hhlandmark").val();
  var msthhnumber = $("#msthhnumber").val();
  var closurehhnumber = $("#closurehhnumber").val();
  var msthhcablelength = $("#msthhcablelength").val();
  var bbhhcablelength = $("#bbhhcablelength").val();


  var url = script_url+"?callback=ctrlq&long="+long+"&id="+id+"&lat="+lat+"&polenumber="+polenumber+"&polelandmark="+polelandmark+"&polemstnumber="+polemstnumber+"&poleclosurenumber="+poleclosurenumber+"&polemstlength="+polemstlength+"&polebbcablelength="+polebbcablelength+"&accesshhnumber="+accesshhnumber+"&hhlandmark="+hhlandmark+"&msthhnumber="+msthhnumber+"&closurehhnumber="+closurehhnumber+"&msthhcablelength="+msthhcablelength+"&bbhhcablelength="+bbhhcablelength+"&action=delete"
  
 
  

    var request = jQuery.ajax({
      crossDomain: true,
      url: url ,
      method: "GET",
      dataType: "jsonp"
    });

  }


  
  
  // print the returned data
  function ctrlq(e) {
  
  
  $("#re").html(e.result);
  $("#re").css("visibility","visible");
  read_value();
  
  }
  

 
  

  
function read_value() {

$("#re").css("visibility","hidden");
   
   document.getElementById("loader").style.visibility = "visible";
 var url = script_url+"?action=read";

$.getJSON(url, function (json) {

    // Set the variables from the results array
   
var br = document.createElement('br');
document.body.appendChild(br);







          // CREATE DYNAMIC TABLE.
          var table = document.createElement("table");
          table.id="id"; 
          var td = document.createElement("td");
          td.id="idx"; 


    

    var header = table.createTHead();
    var row = header.insertRow(0);     
    var cell1 = row.insertCell(0);
    var cell2 = row.insertCell(1);
    var cell3 = row.insertCell(2);
    var cell4 = row.insertCell(3);
    
   
   


  
    cell1.innerHTML = "<b>ID</b>";
    cell2.innerHTML = "<b>LAT</b>";
    cell3.innerHTML = "<b>LONG</b>";
    cell4.innerHTML = "<b>MAIN</b>";

    
    


        
        // ADD JSON DATA TO THE TABLE AS ROWS.
        for (var i = 0; i < json.records.length; i++) {

     var tr =document.createElement('tr');


        tr = table.insertRow(-1);
        var tabCell = tr.insertCell(-1);
        tabCell.innerHTML = json.records[i].ID;
        tabCell = tr.insertCell(-1);
        tabCell.innerHTML = json.records[i].LAT;
        tabCell = tr.insertCell(-1);
        tabCell.innerHTML = json.records[i].LONG;
        tabCell = tr.insertCell(-1);
        tabCell.innerHTML = json.records[i].MAIN;
        //tabCell = tr.insertCell(-1);




//Search Codes

$("#search").keyup(function() {
    var value = this.value;

    $("table").find("tr").each(function(index) {
        if (index === 0) return;
        var id = $(this).find("td").first().text();
        $(this).toggle(id.indexOf(value) !== -1);
    });
});




  
       }
      

        // FINALLY ADD THE NEWLY CREATED TABLE WITH JSON DATA TO A CONTAINER.
        var divContainer = document.getElementById("showData2");
        divContainer.innerHTML = "";
        //divContainer.appendChild(table);
    document.getElementById("loader").style.visibility = "hidden";
    $("#re").css("visibility","visible");
    });
  



  }


</script>










<script type="text/javascript">
  
$(document).ready(function() {

$('#clic').click(function () {

var geocoder;
initialize();
codeLatLng();
function initialize() {

    geocoder = new google.maps.Geocoder();
}

function codeLatLng() {

    var input = document.getElementById("latlng").value
console.log(input);
    var latlngStr = input.split(",", 2);
    var lat = parseFloat(latlngStr[0]);
    var lng = parseFloat(latlngStr[1]);
    var latlng = new google.maps.LatLng(lat, lng);
    geocoder.geocode({
        'latLng': latlng
    }, function(results, status) {
    

        document.getElementById("test").innerHTML = '' + (results[0].formatted_address); + ''
    });
}
})
});



</script>



  


<script type="text/javascript">
  
 $(function()
  {
 var validator = $('#form').validate(
      {
        rules:
        {
          lat: {required:true,
                      regex:true}
        },
        messages:
        {
          lat: {required:"Please enter the Latitude",
                      regex: "Please this format:  6.55456"}          
        },
        errorPlacement: function(error, element) 
        {
            error.insertAfter( element );
         }
      });
    
    $.validator.addMethod(
        "regex",
        function(value, element, regexp) {
            var re = new RegExp(regexp);
            return this.optional(element) || re.test(value);
        },
        "Please this format: 6.55456."
);
    
    $("#lat").rules("add", { regex: "^\[6]{1}[.]{1}[0-9]{5}$" })
    
    $('#lat').keyup(function(){
      validator.submitted["lat"]="Please enter only numbers upto 7 decimal digits";
    });
   
   });


</script>

<script type="text/javascript">
  

var $input = $("#txtAcrescimo");

// Counter
$input.val(0);

// A
$(".bio").click(function(){
    if ($(this).hasClass('add'))
        $input.val(parseInt($input.val())+1);
        //alert($input.val());
        
    else if ($input.val()>=1)
        $input.val(parseInt($input.val())-1);
});


</script>



<script type="text/javascript">

  var capitalize = function(e){
    // if the first letter is lowercase a-z
    // ** don't run the replace unless required, to permit selecting of text **
    if(this.value.match(/^[a-z]/)){
        // replace the first letter
        this.value = this.value.replace(/^./,function(letter){
            // with the uppercase version
            return letter.toUpperCase();
        });
    }
}

// listen to key up in case of typeing, or pasting via keyboard
// listen to mouseup in case of pasting via mouse
// prefer `up` events as the action is complete at that point
document.getElementById('search').addEventListener('keyup', capitalize);
document.getElementById('search').addEventListener('mouseup', capitalize);

</script>


<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCHs4Jwbs2CoI7u8NujfRVr4GkWR7cSPbg&libraries=places&callback=initAutocomplete"
         async defer></script>


        


</body>
<br>
<span style="float: right;" class="logo">
        <img src="/ipnx.png" width=90 height=35>
    </span>
<div align="center">
<p>eDataMaps &copy; 2018 | All Rights Reserved</p>
</div>
</html>